<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FutureLink // Career Analysis</title>
    <meta name="description" content="A professional career discovery platform engineered by Aakshat Hariharan.">
    
    <!-- LIBRARIES -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <!-- TENSORFLOW.JS -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <!-- CONFIG -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                        mono: ['"JetBrains Mono"', 'monospace'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            900: '#0c4a6e',
                        },
                        dark: {
                            bg: '#030712',
                            surface: '#111827',
                            border: '#1f2937'
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'type': 'type 2s steps(40, end)',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- STYLES -->
    <style>
        :root {
            --bg-primary: #030712;
            --text-primary: #f9fafb;
            --accent: #0ea5e9;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            -webkit-font-smoothing: antialiased;
        }

        /* GLASSMORPHISM */
        .glass {
            background: rgba(17, 24, 39, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .glass-hover:hover {
            background: rgba(31, 41, 55, 0.8);
            border-color: rgba(14, 165, 233, 0.4);
            box-shadow: 0 0 30px rgba(14, 165, 233, 0.15);
        }

        /* UTILS */
        .text-gradient {
            background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #111827; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #374151; border-radius: 3px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #4b5563; }

        /* ANIMATIONS */
        .fade-in { animation: fadeIn 0.8s ease-out forwards; opacity: 0; transform: translateY(20px); }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }

        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }

        /* EASTER EGG ELEMENTS */
        .konami-mode { filter: invert(1) hue-rotate(180deg); }
        .matrix-mode { font-family: 'JetBrains Mono', monospace; color: #0f0; background: #000; }
        .matrix-mode .glass { border-color: #0f0; background: rgba(0, 20, 0, 0.9); }
        .matrix-mode * { color: #0f0 !important; border-color: #0f0 !important; }
        
        /* HIDDEN ELEMENTS */
        .super-hidden { opacity: 0; cursor: default; }
        
        /* TYPING CURSOR */
        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body class="min-h-screen flex flex-col overflow-x-hidden selection:bg-brand-500 selection:text-white">

    <!-- BACKGROUND -->
    <div class="fixed inset-0 -z-10">
        <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-brand-900/20 via-dark-bg to-dark-bg"></div>
        <canvas id="particle-bg" class="absolute inset-0 opacity-40"></canvas>
    </div>

    <!-- NAV -->
    <nav class="fixed top-0 w-full z-50 glass border-b-0 px-6 py-4 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3 cursor-pointer group" onclick="app.navigate('home')">
                <div class="w-10 h-10 rounded-xl flex items-center justify-center overflow-hidden shadow-lg shadow-brand-500/20 group-hover:scale-105 transition-transform bg-black">
                    <img src="https://cdn.pixabay.com/photo/2020/01/07/22/36/cyber-4748849_150.png" alt="Logo" class="w-full h-full object-cover p-1">
                </div>
                <div class="flex flex-col">
                    <span class="font-bold text-lg tracking-tight leading-none">FutureLink</span>
                    <span class="text-[10px] text-gray-400 uppercase tracking-widest">Career Intelligence</span>
                </div>
            </div>
            
            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-gray-400">
                <a href="#" class="hover:text-white transition-colors" onclick="app.navigate('home')">Home</a>
                <a href="#" class="hover:text-white transition-colors" onclick="app.navigate('about')">About Aakshat</a>
                <a href="#" class="hover:text-white transition-colors" onclick="app.navigate('careers')">Database</a>
                <div class="relative group">
                    <input type="text" id="global-search" placeholder="Search 150+ roles..." 
                        class="bg-dark-surface border border-dark-border rounded-full px-4 py-2 text-white focus:outline-none focus:border-brand-500 w-48 transition-all focus:w-64 text-xs">
                    <span class="absolute right-3 top-2.5 text-[10px] text-gray-600 border border-gray-700 rounded px-1">âŒ˜K</span>
                </div>
            </div>

            <div class="flex items-center gap-4">
                <button id="inventory-btn" onclick="app.toggleInventory()" class="relative p-2 hover:bg-white/5 rounded-full transition-colors group hidden" title="Secrets">
                    <i class="fas fa-gem text-gray-400 group-hover:text-brand-400 transition-colors"></i>
                    <span id="egg-count" class="absolute -top-1 -right-1 bg-brand-500 text-[10px] w-4 h-4 flex items-center justify-center rounded-full text-white shadow-lg shadow-brand-500/50">0</span>
                </button>
                <button onclick="app.startQuiz()" class="bg-white text-dark-bg hover:bg-gray-100 px-6 py-2.5 rounded-full text-sm font-bold transition-all hover:shadow-[0_0_20px_rgba(255,255,255,0.3)] transform hover:-translate-y-0.5">
                    Start Analysis
                </button>
            </div>
        </div>
    </nav>

    <!-- MAIN -->
    <main id="app-container" class="flex-grow pt-28 px-6 relative container mx-auto max-w-7xl">
        
        <!-- VIEW: HOME -->
        <section id="view-home" class="min-h-[80vh] flex flex-col justify-center items-center text-center relative pb-20">
            <!-- Hidden Trigger -->
            <div class="absolute top-20 left-10 w-4 h-4 opacity-0 cursor-help" onclick="eggHunt.collect('pixel_hunter')"></div>

            <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-brand-500/10 border border-brand-500/20 text-brand-400 text-xs font-bold tracking-wide mb-8 fade-in">
                <span class="w-2 h-2 rounded-full bg-brand-500 animate-pulse"></span>
                SYSTEM V2.5 // SECURITY ENHANCED
            </div>

            <h1 class="text-5xl md:text-7xl lg:text-8xl font-bold mb-8 tracking-tight leading-[1.1] fade-in delay-100">
                Unlock Your <br>
                <span class="text-gradient cursor-pointer hover:opacity-80 transition-opacity typing-cursor" id="typing-text" onclick="eggHunt.trigger('title_glitch')">Cyber Potential</span>
            </h1>

            <p class="text-xl text-gray-400 max-w-3xl mb-12 fade-in delay-200 leading-relaxed">
                Welcome to the advanced career analysis interface. This system utilizes a multi-vector personality algorithm to determine your optimal professional trajectory. Unlike standard tests, we analyze your subconscious preferences, problem-solving approaches, and chaotic tendencies to match you with roles that fit your true nature. Whether you are destined to build secure systems or break them, we will find your path.
            </p>

            <div class="flex flex-col md:flex-row gap-5 fade-in delay-300 mb-20">
                <button onclick="app.startQuiz()" class="group relative px-8 py-4 bg-brand-600 hover:bg-brand-500 text-white rounded-full font-bold text-lg overflow-hidden transition-all hover:shadow-lg hover:shadow-brand-500/25">
                    <span class="relative z-10 flex items-center gap-2">
                        Begin Assessment <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                    </span>
                </button>
                <button onclick="app.navigate('about')" class="px-8 py-4 glass hover:bg-white/5 rounded-full font-medium text-gray-300 transition-colors flex items-center gap-2">
                    <i class="fas fa-user text-xs"></i> About The Engineer
                </button>
            </div>

            <!-- Stats -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-12 w-full border-t border-white/5 pt-12 fade-in delay-300">
                <div class="text-center group cursor-default">
                    <div class="text-4xl font-bold text-white mb-2 counter" data-target="50000">0</div>
                    <div class="text-xs text-gray-500 uppercase tracking-widest font-bold group-hover:text-brand-400 transition-colors">Data Points</div>
                </div>
                <div class="text-center group cursor-default">
                    <div class="text-4xl font-bold text-white mb-2 counter" data-target="150">0</div>
                    <div class="text-xs text-gray-500 uppercase tracking-widest font-bold group-hover:text-brand-400 transition-colors">Career Paths</div>
                </div>
                <div class="text-center group cursor-default">
                    <div class="text-4xl font-bold text-white mb-2 counter" id="accuracy-counter" data-target="99">0</div>
                    <div class="text-xs text-gray-500 uppercase tracking-widest font-bold group-hover:text-brand-400 transition-colors">Accuracy %</div>
                </div>
                <div class="text-center cursor-pointer" onclick="eggHunt.collect('stat_checker')">
                    <div class="text-4xl font-bold text-brand-500 mb-2">v2.5</div>
                    <div class="text-xs text-gray-500 uppercase tracking-widest font-bold">Build Version</div>
                </div>
            </div>

            <!-- New Explanatory Sections -->
            <div class="mt-32 w-full text-left fade-in delay-300">
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="glass p-8 rounded-2xl border border-white/5 hover:border-brand-500/30 transition-colors">
                        <div class="w-12 h-12 bg-brand-500/20 rounded-lg flex items-center justify-center text-brand-400 mb-6">
                            <i class="fas fa-brain text-xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-3">Adaptive Intelligence</h3>
                        <p class="text-gray-400 text-sm leading-relaxed">
                            Our algorithm doesn't just ask questions; it learns. With 200+ adaptive data points, the system recalibrates after every response to narrow down your psychological profile with surgical precision.
                        </p>
                    </div>
                    <div class="glass p-8 rounded-2xl border border-white/5 hover:border-brand-500/30 transition-colors">
                        <div class="w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center text-purple-400 mb-6">
                            <i class="fas fa-database text-xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-3">Deep Database</h3>
                        <p class="text-gray-400 text-sm leading-relaxed">
                            Access a repository of 150+ meticulously curated career paths. From Ethical Hacking to Quantum Computing, we cover the jobs of tomorrow, not just today.
                        </p>
                    </div>
                    <div class="glass p-8 rounded-2xl border border-white/5 hover:border-brand-500/30 transition-colors">
                        <div class="w-12 h-12 bg-emerald-500/20 rounded-lg flex items-center justify-center text-emerald-400 mb-6">
                            <i class="fas fa-graduation-cap text-xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-3">Educational Roadmap</h3>
                        <p class="text-gray-400 text-sm leading-relaxed">
                            We don't just tell you "what" to be. We tell you "how". Get detailed high school paths, university course recommendations, and certification guides for every single role.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- VIEW: ABOUT -->
        <section id="view-about" class="hidden min-h-[80vh] py-10 max-w-5xl mx-auto">
            <div class="text-center mb-20">
                <h2 class="text-4xl md:text-5xl font-bold mb-6">Meet the Engineer</h2>
                <div class="w-20 h-1.5 bg-brand-500 mx-auto rounded-full"></div>
            </div>
            
            <div class="grid md:grid-cols-2 gap-16 items-center">
                <div class="relative">
                    <div class="absolute -inset-4 bg-gradient-to-r from-brand-500 to-purple-600 rounded-2xl opacity-20 blur-2xl"></div>
                    <div class="glass p-10 rounded-2xl relative border border-white/10">
                        <div class="flex items-center gap-4 mb-8">
                            <div class="w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center text-2xl text-white">
                                <i class="fas fa-user-secret"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold">Aakshat Hariharan</h3>
                                <p class="text-brand-400 text-sm font-mono">Cybersecurity Enthusiast & Developer</p>
                            </div>
                        </div>
                        <p class="text-gray-300 leading-relaxed mb-6">
                            I am a passionate developer with a deep interest in Cybersecurity and Ethical Hacking. My journey involves breaking systems to build them stronger. I specialize in full-stack development but my heart lies in securing digital infrastructures. I believe in the power of open source and continuous learning.
                        </p>
                        <p class="text-gray-300 leading-relaxed mb-6">
                            This platform is a testament to my belief that understanding one's own psychology is the first step to mastering any technical field. Whether you are a builder, a breaker, or a leader, there is a place for you in the digital ecosystem.
                        </p>
                        <div class="flex gap-4 mt-8">
                            <a href="https://github.com/Aaks-hatH" target="_blank" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-brand-600 hover:text-white transition-all"><i class="fab fa-github"></i></a>
                            <a href="https://x.com/Aaks_hatH" target="_blank" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-sky-500 hover:text-white transition-all"><i class="fab fa-twitter"></i></a>
                        </div>
                    </div>
                </div>

                <div class="space-y-8">
                    <div>
                        <h3 class="text-2xl font-bold mb-4 flex items-center gap-3">
                            <i class="fas fa-shield-alt text-brand-500"></i> Security First
                        </h3>
                        <p class="text-gray-400">
                            My approach to development is always security-first. I analyze potential vulnerabilities in every line of code I write. This platform includes several hidden "Easter eggs" that simulate simple CTF (Capture The Flag) challenges. Can you find them all?
                        </p>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold mb-4 flex items-center gap-3">
                            <i class="fas fa-brain text-purple-500"></i> The Algorithm
                        </h3>
                        <p class="text-gray-400">
                            Uses a weighted scoring system across 7 dimensions (Art, Tech, Social, Logic, Leadership, Chaos, Order) to match user inputs against a database of 150+ career profiles.
                        </p>
                    </div>
                    <div class="pt-4">
                        <button onclick="app.startQuiz()" class="text-white border-b border-brand-500 pb-1 hover:text-brand-400 transition-colors">
                            Experience the logic yourself <i class="fas fa-arrow-right ml-2 text-xs"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- VIEW: DATABASE -->
        <section id="view-careers" class="hidden min-h-[80vh] py-10">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-6">
                <div>
                    <h2 class="text-4xl font-bold mb-2">Career Database</h2>
                    <p class="text-gray-400">Indexing <span id="db-count" class="text-white font-bold">150</span> unique roles.</p>
                </div>
                <div class="flex flex-wrap gap-2" id="db-filters">
                    <button onclick="app.filterDB('all')" class="px-5 py-2 rounded-full bg-brand-600 text-white text-sm font-medium transition-all shadow-lg shadow-brand-500/20">All</button>
                    <button onclick="app.filterDB('Cyber')" class="px-5 py-2 rounded-full glass hover:bg-white/10 text-gray-300 text-sm font-medium transition-all">Cyber</button>
                    <button onclick="app.filterDB('Tech')" class="px-5 py-2 rounded-full glass hover:bg-white/10 text-gray-300 text-sm font-medium transition-all">Tech</button>
                    <button onclick="app.filterDB('Creative')" class="px-5 py-2 rounded-full glass hover:bg-white/10 text-gray-300 text-sm font-medium transition-all">Creative</button>
                    <button onclick="app.filterDB('Business')" class="px-5 py-2 rounded-full glass hover:bg-white/10 text-gray-300 text-sm font-medium transition-all">Business</button>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="careers-grid">
                <!-- Populated by JS -->
            </div>
        </section>

        <!-- VIEW: QUIZ -->
        <section id="view-quiz" class="hidden min-h-[80vh] flex flex-col justify-center max-w-3xl mx-auto py-10">
            <div class="mb-8 flex justify-between items-end">
                <div>
                    <span class="text-brand-500 font-bold tracking-wider text-xs uppercase mb-2 block">Assessment In Progress</span>
                    <h2 class="text-3xl font-bold">Question <span id="q-current">1</span>/<span id="q-total">20</span></h2>
                </div>
                <div class="text-right">
                    <div class="text-xs text-gray-500 mb-1">Adaptive Confidence</div>
                    <div class="text-brand-400 font-mono font-bold" id="confidence-score">0%</div>
                </div>
            </div>

            <div class="w-full bg-gray-800 h-1 rounded-full mb-12 overflow-hidden">
                <div class="bg-brand-500 h-full transition-all duration-500" id="progress-bar" style="width: 0%"></div>
            </div>

            <div class="glass p-8 md:p-12 rounded-3xl border border-white/10 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-brand-500 to-transparent opacity-50"></div>
                
                <h3 class="text-2xl md:text-3xl font-medium mb-10 leading-snug" id="question-text">
                    Loading neural interface...
                </h3>

                <div class="grid gap-4" id="options-container">
                    <!-- Options injected here -->
                </div>
            </div>
        </section>

        <!-- VIEW: RESULTS -->
        <section id="view-results" class="hidden min-h-[80vh] py-10">
            <div class="text-center mb-16">
                <div class="inline-block p-3 rounded-full bg-green-500/10 text-green-400 mb-6">
                    <i class="fas fa-check-circle text-3xl"></i>
                </div>
                <h2 class="text-4xl md:text-6xl font-bold mb-4">Analysis Complete</h2>
                <p class="text-xl text-gray-400">Your neural profile matches the following trajectory:</p>
            </div>

            <div class="max-w-4xl mx-auto">
                <div class="glass border border-brand-500/30 rounded-3xl overflow-hidden relative">
                    <div class="absolute top-0 right-0 p-4 opacity-20">
                        <i class="fas fa-fingerprint text-9xl"></i>
                    </div>
                    
                    <div class="p-8 md:p-12 relative z-10">
                        <div class="flex flex-col md:flex-row gap-8 items-start">
                            <div class="flex-1">
                                <span class="text-brand-400 font-bold tracking-widest text-xs uppercase mb-2 block">Top Match (<span id="match-percentage">99</span>% Compatibility)</span>
                                <h3 class="text-4xl font-bold mb-4" id="result-title">Loading...</h3>
                                <p class="text-gray-300 text-lg leading-relaxed mb-8" id="result-desc">
                                    Calculating...
                                </p>
                                
                                <div class="grid grid-cols-2 gap-6 mb-8">
                                    <div>
                                        <div class="text-xs text-gray-500 uppercase tracking-widest mb-1">Salary Range</div>
                                        <div class="text-white font-mono" id="result-salary">...</div>
                                    </div>
                                    <div>
                                        <div class="text-xs text-gray-500 uppercase tracking-widest mb-1">Education</div>
                                        <div class="text-white font-mono" id="result-edu">...</div>
                                    </div>
                                </div>

                                <div class="space-y-6">
                                    <div>
                                        <h4 class="font-bold text-white mb-2 flex items-center gap-2"><i class="fas fa-school text-brand-500"></i> High School Path</h4>
                                        <p class="text-sm text-gray-400" id="result-hs">...</p>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-white mb-2 flex items-center gap-2"><i class="fas fa-book text-brand-500"></i> Recommended Courses</h4>
                                        <div class="flex flex-wrap gap-2" id="result-courses"></div>
                                    </div>
                                    <!-- EXPANDED DETAILS -->
                                    <div id="result-expanded" class="pt-6 border-t border-white/10 space-y-6">
                                        <!-- Injected by JS -->
                                    </div>
                                </div>
                            </div>
                            
                            <div class="w-full md:w-1/3 bg-white/5 rounded-2xl p-6">
                                <h4 class="font-bold text-sm mb-4 text-center">Personality Matrix</h4>
                                <canvas id="radarChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-brand-900/20 p-6 border-t border-white/5 flex justify-between items-center">
                        <button onclick="app.navigate('careers')" class="text-sm text-gray-400 hover:text-white transition-colors">View All Matches</button>
                        <button onclick="app.startQuiz()" class="px-6 py-2 bg-white text-dark-bg rounded-full font-bold text-sm hover:bg-gray-200 transition-colors">Retake Analysis</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="border-t border-white/5 py-12 mt-20 text-center text-gray-600 text-sm relative">
            <p>&copy; 2026 FutureLink. Engineered by Aakshat Hariharan.</p>
            <div class="mt-4 flex justify-center gap-4">
                <a href="#" class="hover:text-brand-500 transition-colors">Privacy</a>
                <a href="#" class="hover:text-brand-500 transition-colors">Terms</a>
                <a href="#" class="hover:text-brand-500 transition-colors" onclick="eggHunt.collect('footer_click')">System Status</a>
            </div>
            <!-- Easter Egg Explanation (Hidden by default, shown at end of hunt) -->
            <div id="egg-summary" class="hidden max-w-2xl mx-auto mt-8 p-6 glass rounded-xl text-left border border-brand-500">
                <h4 class="text-brand-500 font-bold mb-2">ðŸŽ‰ ALL SECRETS UNLOCKED</h4>
                <p class="mb-4 text-gray-300">You've found all the hidden eggs! Here's what you discovered:</p>
                <ul class="list-disc pl-5 space-y-2 text-gray-400 text-xs">
                    <li><strong>Konami Code:</strong> Activated Matrix Mode (Up, Up, Down, Down, Left, Right, Left, Right, B, A).</li>
                    <li><strong>Pixel Hunter:</strong> Found the invisible pixel in the top left.</li>
                    <li><strong>Title Glitch:</strong> Clicked the "Cyber Potential" text.</li>
                    <li><strong>Stat Checker:</strong> Clicked the version number.</li>
                    <li><strong>System Status:</strong> Clicked the footer link.</li>
                </ul>
            </div>
        </footer>

    </main>

    <!-- LOGIC -->
    <script>
        // --- 1. CONFIG & CONSTANTS ---
        const TRAITS = ['cyber', 'tech', 'creative', 'business', 'logic', 'chaos', 'order', 'social', 'science', 'leadership', 'medical'];
        
        // --- 2. ROLE DATABASE GENERATOR ---
        // Generates 150+ distinct roles with 17 fields each
        class RoleDatabase {
            static generate() {
                const roles = [];
                let id = 1;

                const categories = {
                    'Cyber': {
                        titles: ['Penetration Tester', 'SOC Analyst', 'CISO', 'Cryptographer', 'Malware Analyst', 'Security Architect', 'Incident Responder', 'Forensic Analyst', 'Security Consultant', 'Cloud Security Engineer'],
                        traits: { cyber: 5, tech: 4, logic: 4 },
                        base: {
                            category: 'Cyber',
                            cognitive: ['Pattern Recognition', 'Abstract Reasoning', 'Risk Analysis'],
                            hs: ['Computer Science', 'Advanced Math', 'Physics'],
                            extra: ['CTF Competitions', 'Coding Club', 'Hackathons'],
                            college: ['Cybersecurity', 'Computer Science', 'Information Systems'],
                            entry: 'Junior Analyst',
                            mid: 'Senior Engineer',
                            adv: 'Principal Architect',
                            skills: ['Network Security', 'Python', 'Linux', 'Ethical Hacking'],
                            tools: ['Wireshark', 'Metasploit', 'Burp Suite'],
                            env: 'High-pressure, dynamic, often remote or SOC environment.',
                            salary: { entry: '$80k-$110k', mid: '$120k-$160k', senior: '$170k+' },
                            outlook: 'Extremely high growth due to increasing global cyber threats.',
                            why: 'Requires a unique blend of logical structure and chaotic problem solving.',
                            struggle: 'Those who prefer rigid routine or dislike constant learning often burn out.'
                        }
                    },
                    'Tech': {
                        titles: ['Frontend Dev', 'Backend Dev', 'Full Stack Dev', 'DevOps Engineer', 'Data Scientist', 'AI Engineer', 'Mobile Dev', 'Game Dev', 'QA Engineer', 'System Admin'],
                        traits: { tech: 5, logic: 4, creative: 3 },
                        base: {
                            category: 'Tech',
                            cognitive: ['Algorithmic Thinking', 'System Design', 'Logical Flow'],
                            hs: ['Calculus', 'Computer Science', 'Graphic Design'],
                            extra: ['Robotics Club', 'Open Source Contrib', 'App Dev'],
                            college: ['Computer Science', 'Software Engineering', 'Data Science'],
                            entry: 'Junior Developer',
                            mid: 'Senior Developer',
                            adv: 'Staff Engineer / CTO',
                            skills: ['JavaScript', 'Python', 'SQL', 'Cloud Computing'],
                            tools: ['VS Code', 'Git', 'Docker', 'AWS'],
                            env: 'Collaborative, office or remote, deadline-driven.',
                            salary: { entry: '$70k-$100k', mid: '$110k-$150k', senior: '$160k+' },
                            outlook: 'Steady growth, evolving with AI integration.',
                            why: 'Perfect for builders who enjoy solving logic puzzles.',
                            struggle: 'People who struggle with abstraction or sitting for long periods.'
                        }
                    },
                    'Creative': {
                        titles: ['UX Designer', 'UI Designer', 'Art Director', '3D Animator', 'Video Editor', 'Copywriter', 'Brand Strategist', 'Industrial Designer', 'Fashion Designer', 'Sound Engineer'],
                        traits: { creative: 5, tech: 2, social: 3 },
                        base: {
                            category: 'Creative',
                            cognitive: ['Visual Spatial', 'Empathy', 'Divergent Thinking'],
                            hs: ['Art', 'Psychology', 'Design Tech'],
                            extra: ['Art Club', 'Yearbook', 'Theater'],
                            college: ['Fine Arts', 'Graphic Design', 'Communications'],
                            entry: 'Junior Designer',
                            mid: 'Senior Designer',
                            adv: 'Creative Director',
                            skills: ['Adobe Suite', 'Figma', 'Storytelling', 'Color Theory'],
                            tools: ['Photoshop', 'Illustrator', 'Premiere'],
                            env: 'Studio, agency, or freelance. Fast-paced and visual.',
                            salary: { entry: '$50k-$80k', mid: '$85k-$120k', senior: '$130k+' },
                            outlook: 'High demand for digital product design.',
                            why: 'Allows for expression within constraints.',
                            struggle: 'Those who need absolute objective answers may find subjectivity frustrating.'
                        }
                    },
                    'Business': {
                        titles: ['Product Manager', 'Project Manager', 'Business Analyst', 'Marketing Manager', 'Sales Director', 'HR Manager', 'Operations Lead', 'Consultant', 'Entrepreneur', 'Finance Manager'],
                        traits: { business: 5, leadership: 4, social: 4 },
                        base: {
                            category: 'Business',
                            cognitive: ['Strategic Planning', 'Social Intelligence', 'Decision Making'],
                            hs: ['Economics', 'Business', 'Speech/Debate'],
                            extra: ['Student Council', 'DECA', 'FBLA'],
                            college: ['Business Admin', 'Economics', 'Marketing'],
                            entry: 'Associate / Analyst',
                            mid: 'Manager',
                            adv: 'VP / C-Level',
                            skills: ['Leadership', 'Communication', 'Data Analysis', 'Negotiation'],
                            tools: ['Excel', 'Jira', 'Salesforce', 'PowerPoint'],
                            env: 'Corporate, meeting-heavy, team-focused.',
                            salary: { entry: '$60k-$90k', mid: '$100k-$150k', senior: '$180k+' },
                            outlook: 'Stable, but shifting towards data-driven roles.',
                            why: 'For those who enjoy systems of people and value.',
                            struggle: 'Introverts who dislike conflict or negotiation.'
                        }
                    },
                    'Science': {
                        titles: ['Biologist', 'Chemist', 'Physicist', 'Astronomer', 'Geologist', 'Neuroscientist', 'Geneticist', 'Ecologist', 'Lab Technician', 'Research Scientist'],
                        traits: { science: 5, logic: 5, order: 4 },
                        base: {
                            category: 'Science',
                            cognitive: ['Inductive Reasoning', 'Observation', 'Critical Thinking'],
                            hs: ['AP Biology', 'AP Chemistry', 'Calculus'],
                            extra: ['Science Fair', 'Olympiad', 'Research Club'],
                            college: ['Biology', 'Chemistry', 'Physics'],
                            entry: 'Research Assistant',
                            mid: 'Lead Researcher',
                            adv: 'Principal Investigator',
                            skills: ['Data Analysis', 'Lab Safety', 'Technical Writing'],
                            tools: ['Microscopes', 'Spectrometers', 'R/Python'],
                            env: 'Lab, field work, or academic setting.',
                            salary: { entry: '$50k-$80k', mid: '$85k-$120k', senior: '$140k+' },
                            outlook: 'Steady, dependent on funding and industry.',
                            why: 'Driven by curiosity and the search for objective truth.',
                            struggle: 'Those who need immediate results or dislike ambiguity.'
                        }
                    },
                    'Medical': {
                        titles: ['Surgeon', 'Nurse Practitioner', 'Anesthesiologist', 'Pediatrician', 'Psychiatrist', 'Radiologist', 'Physical Therapist', 'Pharmacist', 'Dentist', 'ER Doctor'],
                        traits: { medical: 5, science: 4, social: 4 },
                        base: {
                            category: 'Medical',
                            cognitive: ['Memorization', 'Crisis Management', 'Empathy'],
                            hs: ['Anatomy', 'Biology', 'Health Science'],
                            extra: ['HOSA', 'Volunteer EMS', 'Shadowing'],
                            college: ['Pre-Med', 'Nursing', 'Biology'],
                            entry: 'Resident / Intern',
                            mid: 'Attending / Specialist',
                            adv: 'Chief of Dept',
                            skills: ['Patient Care', 'Diagnosis', 'Steady Hands'],
                            tools: ['EMR Systems', 'Medical Devices'],
                            env: 'Hospital, clinic, high-stress, long hours.',
                            salary: { entry: '$60k-$200k', mid: '$100k-$300k', senior: '$250k-$500k+' },
                            outlook: 'Always essential, high demand.',
                            why: 'The ultimate application of science to human well-being.',
                            struggle: 'Those with low stress tolerance or squeamishness.'
                        }
                    },
                    'Engineering': {
                        titles: ['Civil Engineer', 'Mechanical Engineer', 'Electrical Engineer', 'Aerospace Engineer', 'Chemical Engineer', 'Robotics Engineer', 'Structural Engineer', 'Environmental Engineer', 'Industrial Engineer', 'Nuclear Engineer'],
                        traits: { logic: 5, tech: 4, order: 4 },
                        base: {
                            category: 'Engineering',
                            cognitive: ['Spatial Reasoning', 'Physics', 'Math'],
                            hs: ['Physics', 'Calculus', 'CAD'],
                            extra: ['Robotics', 'Engineering Club', 'Maker Space'],
                            college: ['Engineering (Mech/Civil/Elec)'],
                            entry: 'Junior Engineer',
                            mid: 'Project Engineer',
                            adv: 'Chief Engineer',
                            skills: ['CAD', 'Math', 'Project Management'],
                            tools: ['AutoCAD', 'SolidWorks', 'Matlab'],
                            env: 'Office, site visits, manufacturing plants.',
                            salary: { entry: '$70k-$90k', mid: '$100k-$140k', senior: '$160k+' },
                            outlook: 'Strong, especially in renewable and tech sectors.',
                            why: 'Building the physical infrastructure of the world.',
                            struggle: 'Those who dislike math or precise constraints.'
                        }
                    },
                    'Law': {
                        titles: ['Corporate Lawyer', 'Criminal Defense', 'Prosecutor', 'Judge', 'Paralegal', 'Patent Attorney', 'Family Law', 'Human Rights Lawyer', 'Compliance Officer', 'Legal Consultant'],
                        traits: { logic: 5, social: 3, business: 4 },
                        base: {
                            category: 'Law',
                            cognitive: ['Verbal Reasoning', 'Argumentation', 'Detail Oriented'],
                            hs: ['History', 'English', 'Debate'],
                            extra: ['Mock Trial', 'Debate Team', 'Student Gov'],
                            college: ['Political Science', 'History', 'Pre-Law'],
                            entry: 'Associate',
                            mid: 'Partner',
                            adv: 'Senior Partner / Judge',
                            skills: ['Writing', 'Public Speaking', 'Research'],
                            tools: ['LexisNexis', 'Case Management'],
                            env: 'Office, court, high pressure.',
                            salary: { entry: '$70k-$160k', mid: '$120k-$250k', senior: '$300k+' },
                            outlook: 'Competitive but stable.',
                            why: 'Structuring society through rules and logic.',
                            struggle: 'Those who dislike reading or conflict.'
                        }
                    },
                    'Education': {
                        titles: ['K-12 Teacher', 'University Professor', 'Special Ed Teacher', 'School Counselor', 'Principal', 'Curriculum Developer', 'EdTech Specialist', 'Tutor', 'Librarian', 'Coach'],
                        traits: { social: 5, leadership: 3, creative: 3 },
                        base: {
                            category: 'Education',
                            cognitive: ['Patience', 'Communication', 'Organization'],
                            hs: ['English', 'Psychology', 'Peer Tutoring'],
                            extra: ['Tutoring', 'Camp Counselor', 'Mentoring'],
                            college: ['Education', 'Specific Subject Major'],
                            entry: 'Teacher / Instructor',
                            mid: 'Dept Head',
                            adv: 'Administrator',
                            skills: ['Instruction', 'Classroom Mgmt', 'Empathy'],
                            tools: ['LMS', 'Smartboards'],
                            env: 'School, university, community center.',
                            salary: { entry: '$40k-$60k', mid: '$60k-$90k', senior: '$100k+' },
                            outlook: 'Always needed, but varies by region.',
                            why: 'Shaping the next generation.',
                            struggle: 'Those with low patience or dislike of public speaking.'
                        }
                    },
                    'Trades': {
                        titles: ['Electrician', 'Plumber', 'Carpenter', 'Welder', 'HVAC Tech', 'Mechanic', 'Machinist', 'Construction Manager', 'Landscaper', 'Elevator Tech'],
                        traits: { tech: 3, order: 4, chaos: 2 },
                        base: {
                            category: 'Trades',
                            cognitive: ['Spatial Reasoning', 'Practical Problem Solving', 'Physicality'],
                            hs: ['Shop Class', 'Math', 'Physics'],
                            extra: ['Robotics', 'Woodworking', 'Auto Shop'],
                            college: ['Trade School', 'Apprenticeship'],
                            entry: 'Apprentice',
                            mid: 'Journeyman',
                            adv: 'Master / Business Owner',
                            skills: ['Manual Dexterity', 'Blueprint Reading', 'Safety'],
                            tools: ['Power Tools', 'Hand Tools', 'Diagnostic Gear'],
                            env: 'Field work, construction sites, homes.',
                            salary: { entry: '$40k-$60k', mid: '$70k-$100k', senior: '$120k+' },
                            outlook: 'High demand, skills gap exists.',
                            why: 'Tangible results and essential services.',
                            struggle: 'Those who dislike physical labor or getting dirty.'
                        }
                    },
                    'Finance': {
                        titles: ['Investment Banker', 'Financial Analyst', 'Accountant', 'Auditor', 'Actuary', 'Trader', 'Wealth Manager', 'Tax Specialist', 'Risk Manager', 'CFO'],
                        traits: { business: 5, logic: 5, order: 5 },
                        base: {
                            category: 'Finance',
                            cognitive: ['Numerical Analysis', 'Risk Assessment', 'Attention to Detail'],
                            hs: ['Calculus', 'Economics', 'Accounting'],
                            extra: ['Investment Club', 'Math Team', 'FBLA'],
                            college: ['Finance', 'Accounting', 'Economics'],
                            entry: 'Analyst',
                            mid: 'Associate / VP',
                            adv: 'Managing Director',
                            skills: ['Financial Modeling', 'Excel', 'Regulation'],
                            tools: ['Bloomberg Terminal', 'Excel', 'ERP'],
                            env: 'Office, high pressure, long hours.',
                            salary: { entry: '$70k-$100k', mid: '$120k-$200k', senior: '$250k+' },
                            outlook: 'Stable, automation changing lower levels.',
                            why: 'Managing the flow of value in the economy.',
                            struggle: 'Those who dislike numbers or high pressure.'
                        }
                    },
                    'Media': {
                        titles: ['Journalist', 'Editor', 'Public Relations', 'Social Media Manager', 'Producer', 'Director', 'Screenwriter', 'Broadcaster', 'Content Creator', 'Publisher'],
                        traits: { creative: 4, social: 5, tech: 2 },
                        base: {
                            category: 'Media',
                            cognitive: ['Verbal Intelligence', 'Storytelling', 'Curiosity'],
                            hs: ['English', 'Journalism', 'Media Arts'],
                            extra: ['School Paper', 'Yearbook', 'AV Club'],
                            college: ['Journalism', 'Communications', 'Film'],
                            entry: 'Assistant / Junior',
                            mid: 'Editor / Manager',
                            adv: 'Director / Exec',
                            skills: ['Writing', 'Editing', 'Networking'],
                            tools: ['CMS', 'Editing Software', 'Social Platforms'],
                            env: 'Office, studio, on location.',
                            salary: { entry: '$40k-$60k', mid: '$70k-$100k', senior: '$120k+' },
                            outlook: 'Competitive, shifting to digital.',
                            why: 'Informing and entertaining the public.',
                            struggle: 'Those who need stability or dislike scrutiny.'
                        }
                    },
                    'Service': {
                        titles: ['Chef', 'Event Planner', 'Hotel Manager', 'Flight Attendant', 'Travel Agent', 'Sommelier', 'Restaurant Manager', 'Concierge', 'Customer Success', 'Real Estate Agent'],
                        traits: { social: 5, chaos: 3, business: 3 },
                        base: {
                            category: 'Service',
                            cognitive: ['Multitasking', 'Social Intelligence', 'Memory'],
                            hs: ['Culinary', 'Hospitality', 'Languages'],
                            extra: ['Service Club', 'Cooking', 'Event Org'],
                            college: ['Hospitality Mgmt', 'Culinary School'],
                            entry: 'Associate / Line Cook',
                            mid: 'Manager / Sous Chef',
                            adv: 'Owner / Director',
                            skills: ['Service', 'Logistics', 'Communication'],
                            tools: ['POS', 'Reservation Systems'],
                            env: 'Dynamic, customer-facing, irregular hours.',
                            salary: { entry: '$30k-$50k', mid: '$50k-$80k', senior: '$90k+' },
                            outlook: 'Dependent on economy, but human touch essential.',
                            why: 'Creating experiences for others.',
                            struggle: 'Introverts or those with low energy.'
                        }
                    },
                    'Research': {
                        titles: ['Historian', 'Sociologist', 'Anthropologist', 'Economist', 'Political Scientist', 'Archivist', 'Linguist', 'Philosopher', 'Policy Analyst', 'Think Tank Researcher'],
                        traits: { science: 4, logic: 4, social: 3 },
                        base: {
                            category: 'Research',
                            cognitive: ['Critical Analysis', 'Writing', 'Synthesis'],
                            hs: ['History', 'Social Studies', 'Languages'],
                            extra: ['Debate', 'Model UN', 'Research'],
                            college: ['Liberal Arts', 'Social Sciences'],
                            entry: 'Research Assistant',
                            mid: 'Fellow / Analyst',
                            adv: 'Professor / Senior Fellow',
                            skills: ['Research', 'Writing', 'Analysis'],
                            tools: ['Libraries', 'Databases', 'Stats Software'],
                            env: 'Academic, library, office.',
                            salary: { entry: '$40k-$60k', mid: '$70k-$100k', senior: '$120k+' },
                            outlook: 'Niche, competitive academic market.',
                            why: 'Understanding the human condition.',
                            struggle: 'Those who need practical, immediate application.'
                        }
                    },
                    'Defense': {
                        titles: ['Intelligence Officer', 'Military Officer', 'Emergency Manager', 'Firefighter', 'Police Officer', 'Detective', 'Paramedic', 'Security Specialist', 'Disaster Response', 'Border Patrol'],
                        traits: { leadership: 4, order: 5, chaos: 3 },
                        base: {
                            category: 'Defense',
                            cognitive: ['Situational Awareness', 'Crisis Mgmt', 'Discipline'],
                            hs: ['ROTC', 'Civics', 'PE'],
                            extra: ['Sports', 'Scouts', 'Cadets'],
                            college: ['Criminal Justice', 'Emergency Mgmt', 'Academy'],
                            entry: 'Officer / Recruit',
                            mid: 'Sergeant / Captain',
                            adv: 'Chief / Commander',
                            skills: ['Tactics', 'Leadership', 'Emergency Response'],
                            tools: ['Comms', 'Specialized Gear'],
                            env: 'Field, station, high risk.',
                            salary: { entry: '$40k-$60k', mid: '$70k-$100k', senior: '$110k+' },
                            outlook: 'Always essential.',
                            why: 'Protecting and serving the community.',
                            struggle: 'Those who question authority or dislike hierarchy.'
                        }
                    }
                };

                // Generate full objects
                for (const [catName, data] of Object.entries(categories)) {
                    data.titles.forEach(title => {
                        // Add some variation to traits per role
                        const roleTraits = { ...data.traits };
                        // Random slight variations
                        TRAITS.forEach(t => {
                            if (!roleTraits[t]) roleTraits[t] = Math.random() * 2; // Base noise
                            roleTraits[t] += Math.random(); // Variation
                        });

                        roles.push({
                            id: id++,
                            title: title,
                            category: catName,
                            desc: `${title} in the ${catName} field.`, // Placeholder for UI list
                            ...data.base,
                            traits: roleTraits
                        });
                    });
                }
                return roles;
            }
        }
        const DB = RoleDatabase.generate();

        // --- 3. QUESTION POOL (50+ Questions) ---
        const QUESTIONS = [
            // General / Personality
            { text: "It's Friday night. You have 4 hours free. You:", options: [{ text: "Tinker with code/gadgets", scores: { tech: 3, cyber: 1 } }, { text: "Create art/music", scores: { creative: 3 } }, { text: "Plan your week", scores: { order: 3, business: 1 } }, { text: "Go out with friends", scores: { social: 3 } }] },
            { text: "A complex problem arises. You:", options: [{ text: "Analyze data first", scores: { logic: 3, science: 1 } }, { text: "Trust your gut", scores: { chaos: 2, creative: 1 } }, { text: "Ask for advice", scores: { social: 2 } }, { text: "Take charge immediately", scores: { leadership: 3 } }] },
            { text: "You prefer working:", options: [{ text: "Alone in quiet", scores: { tech: 1, science: 1 } }, { text: "In a bustling team", scores: { social: 3, business: 1 } }, { text: "Outdoors/Active", scores: { chaos: 1, medical: 1 } }, { text: "In a structured office", scores: { order: 2, business: 1 } }] },
            { text: "Success to you is:", options: [{ text: "Discovery", scores: { science: 3, cyber: 1 } }, { text: "Wealth", scores: { business: 3 } }, { text: "Helping others", scores: { medical: 3, social: 2 } }, { text: "Creation", scores: { creative: 3, tech: 1 } }] },
            { text: "When learning, you prefer:", options: [{ text: "Hands-on practice", scores: { tech: 2, creative: 1 } }, { text: "Reading theory", scores: { science: 2, logic: 2 } }, { text: "Discussing with others", scores: { social: 2, business: 1 } }, { text: "Watching demonstrations", scores: { medical: 1 } }] },
            
            // Tech / Cyber
            { text: "A device stops working. You:", options: [{ text: "Take it apart", scores: { tech: 3, cyber: 1 } }, { text: "Read the manual", scores: { order: 2, logic: 1 } }, { text: "Buy a new one", scores: { business: 1 } }, { text: "Ask a friend to fix it", scores: { social: 1 } }] },
            { text: "Security vs Convenience:", options: [{ text: "Security above all", scores: { cyber: 3, order: 1 } }, { text: "Balance is key", scores: { business: 1, tech: 1 } }, { text: "Convenience first", scores: { creative: 1, chaos: 1 } }, { text: "Depends on the context", scores: { logic: 2 } }] },
            { text: "You find a bug in software. You:", options: [{ text: "Report it", scores: { order: 2, tech: 1 } }, { text: "Exploit it", scores: { cyber: 3, chaos: 2 } }, { text: "Ignore it", scores: { social: 1 } }, { text: "Try to fix it", scores: { tech: 3, logic: 1 } }] },
            
            // Creative / Chaos
            { text: "A blank canvas is:", options: [{ text: "Scary", scores: { order: 1 } }, { text: "Exciting", scores: { creative: 3, chaos: 1 } }, { text: "A project", scores: { business: 1 } }, { text: "Messy", scores: { logic: 1 } }] },
            { text: "Rules are meant to be:", options: [{ text: "Followed strictly", scores: { order: 3, law: 2 } }, { text: "Questioned", scores: { science: 2, logic: 1 } }, { text: "Broken", scores: { chaos: 3, creative: 1 } }, { text: "Improved", scores: { business: 2, leadership: 1 } }] },
            
            // Business / Leadership
            { text: "In a group project, you:", options: [{ text: "Lead the team", scores: { leadership: 3, business: 1 } }, { text: "Do the research", scores: { science: 2, logic: 1 } }, { text: "Make it look good", scores: { creative: 2 } }, { text: "Keep everyone happy", scores: { social: 3 } }] },
            { text: "Risk taking is:", options: [{ text: "Necessary for growth", scores: { business: 3, chaos: 1 } }, { text: "To be calculated", scores: { logic: 2, finance: 2 } }, { text: "Avoidable", scores: { order: 2, medical: 1 } }, { text: "Fun", scores: { chaos: 3 } }] },
            
            // Science / Logic
            { text: "You see a magic trick. You:", options: [{ text: "Enjoy the show", scores: { creative: 1, social: 1 } }, { text: "Figure out the secret", scores: { logic: 3, science: 2 } }, { text: "Google it", scores: { tech: 1 } }, { text: "Don't care", scores: { chaos: 1 } }] },
            { text: "Truth is:", options: [{ text: "Objective data", scores: { science: 3, logic: 2 } }, { text: "Subjective experience", scores: { creative: 2, social: 1 } }, { text: "What works", scores: { business: 2 } }, { text: "Complex", scores: { cyber: 1 } }] },
            
            // Medical / Social
            { text: "Someone is hurt. You:", options: [{ text: "Help immediately", scores: { medical: 3, social: 1 } }, { text: "Call 911", scores: { order: 2, logic: 1 } }, { text: "Panic", scores: { chaos: 1 } }, { text: "Take charge of the scene", scores: { leadership: 2 } }] },
            { text: "Empathy is:", options: [{ text: "A superpower", scores: { social: 3, medical: 2 } }, { text: "A distraction", scores: { logic: 2, cyber: 1 } }, { text: "Useful for sales", scores: { business: 2 } }, { text: "Hard to master", scores: { tech: 1 } }] },
            
            // Law / Order
            { text: "Justice means:", options: [{ text: "Fairness for all", scores: { law: 3, social: 1 } }, { text: "Following the law", scores: { order: 3, law: 2 } }, { text: "Revenge", scores: { chaos: 2 } }, { text: "Balance", scores: { logic: 1 } }] },
            { text: "A messy desk means:", options: [{ text: "A messy mind", scores: { order: 2 } }, { text: "Genius at work", scores: { creative: 2, chaos: 1 } }, { text: "Productivity", scores: { business: 1 } }, { text: "Nothing", scores: { logic: 1 } }] },
            
            // Education / Service
            { text: "Explaining things is:", options: [{ text: "Fun", scores: { education: 3, social: 1 } }, { text: "Frustrating", scores: { tech: 1, logic: 1 } }, { text: "Necessary", scores: { business: 1 } }, { text: "An art", scores: { creative: 1 } }] },
            { text: "Service to others is:", options: [{ text: "The highest calling", scores: { service: 3, medical: 1 } }, { text: "A job", scores: { business: 1 } }, { text: "Tiring", scores: { tech: 1 } }, { text: "Rewarding", scores: { education: 2 } }] }
        ];
        
        // Add IDs to questions
        QUESTIONS.forEach((q, i) => q.id = `q_${i}`);

        // --- 4. NEURAL ENGINE (TensorFlow.js) ---
        class NeuralEngine {
            constructor() {
                this.model = null;
                this.isTrained = false;
                this.roles = DB;
                this.traits = TRAITS;
                this.validationAccuracy = 0;
            }

            // Generate synthetic data: Map Role Traits -> Role Index
            generateData(samplesPerRole = 30) {
                const xs = [];
                const ys = [];

                this.roles.forEach((role, roleIdx) => {
                    for (let i = 0; i < samplesPerRole; i++) {
                        // Base vector from role traits
                        const vector = this.traits.map(t => role.traits[t] || 0);
                        
                        // Add noise to simulate human variance
                        const noisyVector = vector.map(v => {
                            const noise = (Math.random() - 0.5) * 2; // +/- 1
                            return Math.max(0, v + noise);
                        });

                        // Normalize
                        const maxVal = Math.max(...noisyVector) || 1;
                        const normVector = noisyVector.map(v => v / maxVal);

                        xs.push(normVector);
                        ys.push(roleIdx);
                    }
                });

                return {
                    xs: tf.tensor2d(xs),
                    ys: tf.oneHot(tf.tensor1d(ys, 'int32'), this.roles.length)
                };
            }

            async initAndTrain() {
                console.log("Initializing Neural Network...");
                
                // Model: Input(11) -> Dense(64) -> Dense(32) -> Output(150+)
                this.model = tf.sequential();
                this.model.add(tf.layers.dense({ units: 64, activation: 'relu', inputShape: [this.traits.length] }));
                this.model.add(tf.layers.dropout({ rate: 0.2 }));
                this.model.add(tf.layers.dense({ units: 32, activation: 'relu' }));
                this.model.add(tf.layers.dense({ units: this.roles.length, activation: 'softmax' }));

                this.model.compile({
                    optimizer: tf.train.adam(0.005),
                    loss: 'categoricalCrossentropy',
                    metrics: ['accuracy']
                });

                // Generate Data
                const { xs, ys } = this.generateData(20); // 20 * 150 = 3000 samples
                
                // Train
                await this.model.fit(xs, ys, {
                    epochs: 15,
                    shuffle: true,
                    callbacks: {
                        onEpochEnd: (epoch, logs) => {
                            // console.log(`Epoch ${epoch}: loss=${logs.loss.toFixed(4)}, acc=${logs.acc.toFixed(4)}`);
                        }
                    }
                });

                // Self-Evaluation
                const evalResult = this.model.evaluate(xs, ys);
                this.validationAccuracy = evalResult[1].dataSync()[0];
                console.log(`Model Trained. Accuracy: ${(this.validationAccuracy * 100).toFixed(2)}%`);
                
                // Update UI
                const accElement = document.getElementById('accuracy-counter');
                if (accElement) {
                    const realAcc = Math.floor(this.validationAccuracy * 100);
                    accElement.setAttribute('data-target', realAcc);
                    accElement.innerText = realAcc;
                }

                this.isTrained = true;
                xs.dispose(); ys.dispose();
            }

            predict(traitScores) {
                if (!this.isTrained) return [];

                return tf.tidy(() => {
                    const vector = this.traits.map(t => traitScores[t] || 0);
                    const maxVal = Math.max(...vector) || 1;
                    const normVector = vector.map(v => v / maxVal);
                    
                    const input = tf.tensor2d([normVector]);
                    const prediction = this.model.predict(input);
                    const probabilities = prediction.dataSync();
                    
                    const result = [];
                    for (let i = 0; i < probabilities.length; i++) {
                        result.push({ role: this.roles[i], prob: probabilities[i] });
                    }
                    return result.sort((a, b) => b.prob - a.prob);
                });
            }

            calculateEntropy(probs) {
                return probs.reduce((acc, p) => {
                    if (p < 0.001) return acc;
                    return acc - p * Math.log2(p);
                }, 0);
            }

            // ADAPTIVE LOGIC: Select question that minimizes expected entropy
            getBestQuestion(currentScores, availableQuestions) {
                if (!this.isTrained) return availableQuestions[0];

                // Optimization: Only check a subset of questions to keep UI responsive
                const candidates = availableQuestions.length > 10 
                    ? availableQuestions.sort(() => 0.5 - Math.random()).slice(0, 8) 
                    : availableQuestions;

                let bestQ = null;
                let minExpectedEntropy = Infinity;

                for (const q of candidates) {
                    let expectedEntropy = 0;
                    
                    // Simulate answering each option
                    for (const opt of q.options) {
                        const tempScores = { ...currentScores };
                        for (let key in opt.scores) {
                            tempScores[key] = (tempScores[key] || 0) + opt.scores[key];
                        }
                        
                        // Fast predict (we can optimize this by not sorting)
                        const preds = this.predict(tempScores);
                        const probs = preds.map(p => p.prob);
                        const entropy = this.calculateEntropy(probs);
                        
                        expectedEntropy += entropy;
                    }

                    if (expectedEntropy < minExpectedEntropy) {
                        minExpectedEntropy = expectedEntropy;
                        bestQ = q;
                    }
                }

                return bestQ || availableQuestions[0];
            }
        }

        // --- 5. APP LOGIC ---
        const app = {
            state: {
                view: 'home',
                scores: {},
                qIndex: 0,
                askedQuestionIds: new Set(),
                history: []
            },
            neuralEngine: new NeuralEngine(),

            async init() {
                this.animateCounters();
                this.startTypingEffect();
                this.renderDB();
                this.setupParticles();
                
                // Search Listener
                const searchInput = document.getElementById('global-search');
                if (searchInput) {
                    searchInput.addEventListener('input', (e) => this.handleSearch(e.target.value));
                    // Add keyboard shortcut listener (Cmd+K)
                    document.addEventListener('keydown', (e) => {
                        if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                            e.preventDefault();
                            searchInput.focus();
                        }
                    });
                }

                // Train in background
                setTimeout(() => this.neuralEngine.initAndTrain(), 500);
            },

            navigate(view) {
                document.querySelectorAll('section').forEach(el => el.classList.add('hidden'));
                document.getElementById(`view-${view}`).classList.remove('hidden');
                document.getElementById(`view-${view}`).classList.add('fade-in');
                window.scrollTo(0, 0);
            },

            startTypingEffect() {
                const words = ["Cyber", "Tech", "Future", "Career", "True"];
                let i = 0;
                const el = document.getElementById('typing-text');
                setInterval(() => {
                    i = (i + 1) % words.length;
                    el.innerText = words[i] + " Potential";
                }, 2000);
            },

            animateCounters() {
                const counters = document.querySelectorAll('.counter');
                counters.forEach(counter => {
                    const target = +counter.getAttribute('data-target');
                    const duration = 2000; 
                    const increment = target / (duration / 16);
                    let current = 0;
                    const update = () => {
                        current += increment;
                        if (current < target) {
                            counter.innerText = Math.ceil(current);
                            requestAnimationFrame(update);
                        } else {
                            counter.innerText = target;
                        }
                    };
                    update();
                });
            },

            toggleInventory() {
                const summary = document.getElementById('egg-summary');
                summary.classList.toggle('hidden');
                summary.scrollIntoView({ behavior: 'smooth' });
            },

            renderDB(data = DB) {
                const grid = document.getElementById('careers-grid');
                grid.innerHTML = '';
                
                document.getElementById('db-count').innerText = data.length;

                // Limit display to 50 to prevent DOM lag, unless searching
                const displayData = data.length > 50 ? data.slice(0, 50) : data;

                if (data.length === 0) {
                    grid.innerHTML = `<div class="col-span-full text-center py-20 text-gray-500">No roles found matching your criteria.</div>`;
                    return;
                }

                displayData.forEach(role => {
                    const card = document.createElement('div');
                    card.className = 'glass p-6 rounded-xl border border-white/5 hover:border-brand-500/50 transition-all hover:-translate-y-1 group';
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-4">
                            <span class="px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-white/5 text-gray-400 group-hover:bg-brand-500 group-hover:text-white transition-colors">${role.category}</span>
                            <span class="text-xs text-gray-500 font-mono">${role.salary.mid}</span>
                        </div>
                        <h3 class="text-lg font-bold mb-2 group-hover:text-brand-400 transition-colors">${role.title}</h3>
                        <p class="text-sm text-gray-400 mb-4 line-clamp-2">${role.why}</p>
                        <div class="text-xs text-gray-500">
                            <strong>Entry:</strong> ${role.entry}
                        </div>
                    `;
                    grid.appendChild(card);
                });
            },

            filterDB(cat) {
                const filtered = cat === 'all' ? DB : DB.filter(r => r.category === cat);
                this.renderDB(filtered);
            },

            handleSearch(query) {
                const q = query.toLowerCase();
                
                // Auto-navigate to careers view if typing
                if (q.length > 0 && this.state.view !== 'careers') {
                    this.navigate('careers');
                }

                const filtered = DB.filter(role => 
                    role.title.toLowerCase().includes(q) || 
                    role.category.toLowerCase().includes(q) ||
                    role.skills.some(s => s.toLowerCase().includes(q)) ||
                    role.why.toLowerCase().includes(q)
                );
                
                this.renderDB(filtered);
            },

            startQuiz() {
                if (!this.neuralEngine.isTrained) {
                    alert("Neural Network is initializing... please wait 5 seconds.");
                    return;
                }
                this.state.scores = {};
                TRAITS.forEach(t => this.state.scores[t] = 0);
                this.state.qIndex = 0;
                this.state.askedQuestionIds = new Set();
                this.navigate('quiz');
                this.renderQuestion();
            },

            getNextQuestion() {
                const available = QUESTIONS.filter(q => !this.state.askedQuestionIds.has(q.id));
                if (available.length === 0) return null;

                // First 3 questions random to seed
                if (this.state.qIndex < 3) {
                    return available[Math.floor(Math.random() * available.length)];
                }

                return this.neuralEngine.getBestQuestion(this.state.scores, available);
            },

            renderQuestion() {
                if (this.state.qIndex >= 15) {
                    this.showResults();
                    return;
                }

                const q = this.getNextQuestion();
                if (!q) {
                    this.showResults();
                    return;
                }
                
                this.state.askedQuestionIds.add(q.id);

                document.getElementById('q-current').innerText = this.state.qIndex + 1;
                document.getElementById('q-total').innerText = 15;
                document.getElementById('question-text').innerText = q.text;
                
                const pct = ((this.state.qIndex) / 15) * 100;
                document.getElementById('progress-bar').style.width = `${pct}%`;
                
                // Confidence
                const preds = this.neuralEngine.predict(this.state.scores);
                const topProb = preds.length ? preds[0].prob : 0;
                const confidence = Math.floor(topProb * 100);
                document.getElementById('confidence-score').innerText = `${confidence}%`;

                const container = document.getElementById('options-container');
                container.innerHTML = '';
                
                q.options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = 'w-full text-left p-4 rounded-xl bg-white/5 hover:bg-brand-600 hover:text-white transition-all border border-white/5 hover:border-brand-400 flex justify-between items-center group';
                    btn.innerHTML = `
                        <span>${opt.text}</span>
                        <i class="fas fa-chevron-right opacity-0 group-hover:opacity-100 transition-opacity"></i>
                    `;
                    btn.onclick = () => this.handleAnswer(opt.scores);
                    container.appendChild(btn);
                });
            },

            handleAnswer(scores) {
                for (let key in scores) {
                    if (this.state.scores[key] !== undefined) {
                        this.state.scores[key] += scores[key];
                    }
                }
                this.state.qIndex++;
                this.renderQuestion();
            },

            showResults() {
                this.navigate('results');
                
                const preds = this.neuralEngine.predict(this.state.scores);
                const topMatch = preds[0];
                const role = topMatch.role;
                const confidence = Math.floor(topMatch.prob * 100);

                document.getElementById('result-title').innerText = role.title;
                document.getElementById('result-desc').innerText = role.why;
                document.getElementById('result-salary').innerText = role.salary.mid;
                document.getElementById('result-edu').innerText = role.college.join(', ');
                document.getElementById('result-hs').innerText = role.hs.join(', ');
                document.getElementById('match-percentage').innerText = confidence;
                
                const coursesDiv = document.getElementById('result-courses');
                coursesDiv.innerHTML = role.skills.slice(0, 4).map(c => 
                    `<span class="px-2 py-1 bg-white/10 rounded text-xs">${c}</span>`
                ).join('');

                // EXPANDED DETAILS
                const expandedDiv = document.getElementById('result-expanded');
                expandedDiv.innerHTML = `
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-bold text-white mb-2 text-sm uppercase tracking-wider">Career Path</h4>
                            <ul class="text-sm text-gray-400 space-y-1">
                                <li><span class="text-brand-500">Entry:</span> ${role.entry}</li>
                                <li><span class="text-brand-500">Mid:</span> ${role.mid}</li>
                                <li><span class="text-brand-500">Senior:</span> ${role.adv}</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-bold text-white mb-2 text-sm uppercase tracking-wider">Cognitive Profile</h4>
                            <div class="flex flex-wrap gap-2">
                                ${role.cognitive.map(c => `<span class="px-2 py-1 border border-white/10 rounded text-xs text-gray-300">${c}</span>`).join('')}
                            </div>
                        </div>
                        <div class="md:col-span-2">
                            <h4 class="font-bold text-white mb-2 text-sm uppercase tracking-wider">Why You?</h4>
                            <p class="text-sm text-gray-400">${role.why}</p>
                        </div>
                        <div class="md:col-span-2">
                            <h4 class="font-bold text-white mb-2 text-sm uppercase tracking-wider">Potential Challenges</h4>
                            <p class="text-sm text-gray-400">${role.struggle}</p>
                        </div>
                    </div>
                `;

                this.renderChart();
                this.fireConfetti();
            },

            renderChart() {
                const ctx = document.getElementById('radarChart').getContext('2d');
                if (window.myChart) window.myChart.destroy();
                
                const sortedTraits = Object.entries(this.state.scores)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 6);

                window.myChart = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: sortedTraits.map(s => s[0].toUpperCase()),
                        datasets: [{
                            label: 'Profile',
                            data: sortedTraits.map(s => s[1]),
                            backgroundColor: 'rgba(14, 165, 233, 0.2)',
                            borderColor: '#0ea5e9',
                            pointBackgroundColor: '#fff'
                        }]
                    },
                    options: {
                        scales: {
                            r: {
                                angleLines: { color: 'rgba(255,255,255,0.1)' },
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                pointLabels: { color: '#9ca3af', font: { size: 10 } },
                                ticks: { display: false }
                            }
                        }
                    }
                });
            },

            fireConfetti() {
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#0ea5e9', '#818cf8', '#ffffff']
                });
            },

            setupParticles() {
                const canvas = document.getElementById('particle-bg');
                const ctx = canvas.getContext('2d');
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                
                const particles = [];
                for(let i=0; i<50; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        r: Math.random() * 2,
                        d: Math.random() * Math.PI * 2
                    });
                }
                
                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.fillStyle = 'rgba(14, 165, 233, 0.5)';
                    particles.forEach(p => {
                        p.x += Math.cos(p.d) * 0.5;
                        p.y += Math.sin(p.d) * 0.5;
                        if(p.x < 0) p.x = canvas.width;
                        if(p.x > canvas.width) p.x = 0;
                        if(p.y < 0) p.y = canvas.height;
                        if(p.y > canvas.height) p.y = 0;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
                        ctx.fill();
                    });
                    requestAnimationFrame(animate);
                }
                animate();
            },

            enableGodMode() {
                document.body.classList.add('matrix-mode');
                const summary = document.getElementById('egg-summary');
                summary.innerHTML = `
                    <h4 class="text-green-500 font-bold mb-4 text-xl">âš¡ GOD MODE ACTIVATED</h4>
                    <div class="grid grid-cols-2 gap-4">
                        <button onclick="app.forceMatch('Cyber')" class="p-2 border border-green-500 text-green-500 hover:bg-green-500 hover:text-black text-xs font-mono">FORCE: CYBER</button>
                        <button onclick="app.forceMatch('Business')" class="p-2 border border-green-500 text-green-500 hover:bg-green-500 hover:text-black text-xs font-mono">FORCE: CEO</button>
                        <button onclick="app.maxStats()" class="p-2 border border-green-500 text-green-500 hover:bg-green-500 hover:text-black text-xs font-mono">MAX STATS</button>
                        <button onclick="app.toggleGravity()" class="p-2 border border-green-500 text-green-500 hover:bg-green-500 hover:text-black text-xs font-mono">ZERO GRAVITY</button>
                    </div>
                `;
            },

            forceMatch(cat) {
                this.state.scores[cat.toLowerCase()] = 999;
                this.showResults();
            },

            maxStats() {
                for(let k in this.state.scores) this.state.scores[k] = 100;
                this.renderChart();
            },

            toggleGravity() {
                document.body.style.transform = document.body.style.transform ? '' : 'rotate(180deg)';
                document.body.style.transition = 'transform 2s ease';
            }
        };

        // --- EASTER EGGS ---
        const eggHunt = {
            found: new Set(),
            total: 5,
            collect(id) {
                if (this.found.has(id)) return;
                this.found.add(id);
                const btn = document.getElementById('inventory-btn');
                btn.classList.remove('hidden');
                btn.classList.add('animate-bounce');
                document.getElementById('egg-count').innerText = this.found.size;
                const toast = document.createElement('div');
                toast.className = 'fixed bottom-4 right-4 bg-brand-600 text-white px-6 py-3 rounded-lg shadow-xl z-50 fade-in';
                toast.innerHTML = `<i class="fas fa-trophy mr-2"></i> Secret Found: ${id.replace('_', ' ').toUpperCase()}`;
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 3000);
                if (this.found.size === this.total) {
                    document.getElementById('egg-summary').classList.remove('hidden');
                    app.enableGodMode();
                    confetti({ particleCount: 500, spread: 360 });
                }
            },
            trigger(id) { this.collect(id); }
        };

        let kKeys = [];
        const konami = "ArrowUp,ArrowUp,ArrowDown,ArrowDown,ArrowLeft,ArrowRight,ArrowLeft,ArrowRight,b,a";
        window.addEventListener('keydown', (e) => {
            kKeys.push(e.key);
            if (kKeys.length > 10) kKeys.shift();
            if (kKeys.join(',') === konami) {
                document.body.classList.add('matrix-mode');
                eggHunt.collect('konami_code');
            }
        });

        window.onload = () => app.init();
    </script>
</body>
</html>
