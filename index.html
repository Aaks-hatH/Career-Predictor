<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FutureLink // Neural Career Rig</title>
    
    <!-- Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.15.0"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

    <style>
        :root { --neon-blue: #00f2ff; --neon-red: #ff003c; --bg-dark: #020617; }
        body { background-color: var(--bg-dark); font-family: 'Space Grotesk', sans-serif; color: #e2e8f0; overflow-x: hidden; }
        .mono { font-family: 'Fira Code', monospace; }
        
        /* Glassmorphism */
        .glass { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .neon-border { border: 1px solid var(--neon-blue); box-shadow: 0 0 15px rgba(0, 242, 255, 0.2); }
        
        /* Matrix Background */
        #matrix-canvas { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.15; }

        /* Glitch Effect */
        .glitch { position: relative; }
        .glitch::after { content: attr(data-text); position: absolute; left: 2px; text-shadow: -1px 0 red; top: 0; color: white; background: var(--bg-dark); overflow: hidden; clip: rect(0,900px,0,0); animation: glitch-anim 2s infinite linear alternate-reverse; }
        @keyframes glitch-anim { 0% { clip: rect(20px, 9999px, 10px, 0); } 100% { clip: rect(80px, 9999px, 90px, 0); } }

        /* Scanlines */
        .scanline { width: 100%; height: 100px; z-index: 100; background: linear-gradient(0deg, rgba(0, 242, 255, 0) 0%, rgba(0, 242, 255, 0.05) 50%, rgba(0, 242, 255, 0) 100%); position: fixed; top: -100px; pointer-events: none; animation: scan 4s linear infinite; }
        @keyframes scan { from { top: -100px; } to { top: 100%; } }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--neon-blue); border-radius: 10px; }

        /* Overload Mode (Easter Egg) */
        body.overload { --neon-blue: var(--neon-red); }
        body.overload .neon-text { color: var(--neon-red); text-shadow: 0 0 10px var(--neon-red); }

        .btn-cyber { @apply border border-white/10 hover:border-cyan-400 hover:text-cyan-400 hover:bg-cyan-400/5 transition-all duration-300 uppercase text-[10px] tracking-[0.2em] font-bold; }
    </style>
</head>
<body class="min-h-screen">
    <canvas id="matrix-canvas"></canvas>
    <div class="scanline"></div>

    <!-- NAVBAR -->
    <nav class="fixed top-0 w-full z-50 glass px-8 py-5 flex justify-between items-center border-b border-white/5">
        <div class="flex items-center gap-3 group cursor-pointer" onclick="secretLogoTrigger()">
            <div id="ai-status" class="w-2 h-2 bg-red-500 rounded-full animate-pulse transition-colors duration-500"></div>
            <span class="font-black tracking-tighter text-2xl uppercase glitch" data-text="FUTURELINK">Future<span class="text-cyan-400">Link</span></span>
        </div>
        <div class="flex gap-8 text-[11px] mono uppercase tracking-widest font-bold">
            <button onclick="showSection('home')" class="hover:text-cyan-400 transition">Portal</button>
            <button onclick="showSection('quiz')" class="hover:text-cyan-400 transition">Neural_Sync</button>
            <button onclick="showSection('about')" class="hover:text-cyan-400 transition">Dev_Dossier</button>
            <button id="debug-trigger" onclick="toggleDebug()" class="text-slate-600 hover:text-white">// Debug</button>
        </div>
    </nav>

    <!-- HIDDEN TERMINAL (Easter Egg) -->
    <div id="terminal-overlay" class="hidden fixed inset-0 z-[100] bg-black/90 p-10 flex flex-col items-center justify-center">
        <div class="w-full max-w-2xl glass p-6 rounded-xl border-cyan-500">
            <div class="flex justify-between items-center mb-4 border-b border-white/10 pb-2">
                <span class="mono text-xs text-cyan-400">ISHHA_KERNEL_ACCESS_V4.0</span>
                <button onclick="closeTerminal()" class="text-red-500">ESC</button>
            </div>
            <div id="term-output" class="mono text-xs text-emerald-400 h-64 overflow-y-auto mb-4 space-y-1">
                <div>Welcome, Administrator. Type 'help' for commands.</div>
            </div>
            <div class="flex gap-2">
                <span class="text-cyan-400 mono">></span>
                <input type="text" id="term-input" class="bg-transparent border-none outline-none mono text-xs w-full text-white" placeholder="..." autofocus>
            </div>
        </div>
    </div>

    <!-- MAIN INTERFACE -->
    <main class="pt-32 pb-20 px-8 max-w-5xl mx-auto">
        
        <!-- SECTION: HOME -->
        <section id="home-section" class="fade-in text-center space-y-8">
            <div class="inline-block px-4 py-1 glass rounded-full text-[10px] text-cyan-400 mono mb-4 uppercase tracking-[0.3em]">
                Local AI Environment Operational
            </div>
            <h1 class="text-7xl md:text-9xl font-black tracking-tighter uppercase leading-[0.8] mb-8">
                The Neural <br><span class="text-cyan-400 glitch" data-text="MATRIX">Matrix</span>
            </h1>
            <p class="text-slate-400 text-lg max-w-2xl mx-auto font-light leading-relaxed">
                Experience a career prediction engine that learns in real-time. Built with <span class="text-white mono">TensorFlow.js</span>, optimized for the cybersecurity ethos of total data privacy.
            </p>
            <div class="flex justify-center gap-6 pt-6">
                <button id="start-btn" onclick="showSection('quiz')" class="px-12 py-5 bg-cyan-500 text-black font-black rounded-full hover:scale-105 transition-all opacity-50 pointer-events-none uppercase tracking-[0.2em] shadow-[0_0_30px_rgba(0,242,255,0.4)]">
                    Initializing AI...
                </button>
            </div>
        </section>

        <!-- SECTION: QUIZ -->
        <section id="quiz-section" class="hidden fade-in max-w-xl mx-auto">
            <div class="flex justify-between items-end mb-6">
                <div>
                    <span class="mono text-[10px] text-cyan-400 uppercase">Certainty: <span id="conf-text">0%</span></span>
                    <div class="h-1 w-48 bg-slate-900 mt-2 rounded-full overflow-hidden">
                        <div id="conf-bar" class="h-full bg-cyan-400 transition-all duration-700"></div>
                    </div>
                </div>
                <div class="text-right">
                    <span class="mono text-[10px] text-slate-500">PACKET_LOSS: 0.00%</span>
                    <div class="text-xs text-white" id="q-count">0 / 200</div>
                </div>
            </div>

            <div class="glass p-12 rounded-[2rem] mb-10 min-h-[250px] flex items-center justify-center text-center relative group">
                <div class="absolute inset-0 bg-cyan-500/5 opacity-0 group-hover:opacity-100 transition-all rounded-[2rem]"></div>
                <p id="q-text" class="text-2xl font-bold leading-snug">Calibrating Sensors...</p>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <button onclick="handle(10)" class="p-4 glass rounded-xl btn-cyber">Extremely True</button>
                <button onclick="handle(7)" class="p-4 glass rounded-xl btn-cyber">Somewhat True</button>
                <button onclick="handle(5)" class="p-4 glass rounded-xl btn-cyber">Neutral</button>
                <button onclick="handle(3)" class="p-4 glass rounded-xl btn-cyber">Somewhat False</button>
                <button onclick="handle(1)" class="p-4 glass rounded-xl btn-cyber col-span-2">Extremely False</button>
            </div>
        </section>

        <!-- SECTION: RESULTS -->
        <section id="result-section" class="hidden fade-in text-center">
            <div class="glass p-16 rounded-[4rem] border-cyan-500/30">
                <div class="mono text-cyan-400 text-xs mb-10 tracking-[0.5em] animate-pulse">MATCH_LOCKED // DEPLOYING_RESULTS</div>
                <h3 class="text-slate-500 uppercase text-xs tracking-widest mb-4">Neural Consensus:</h3>
                <h1 id="predicted-job" class="text-6xl md:text-8xl font-black text-white mb-12 tracking-tighter">...</h1>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="location.reload()" class="px-10 py-5 bg-cyan-500 text-black font-black rounded-2xl hover:bg-white transition-all uppercase tracking-widest">Finalize Life Path</button>
                    <button onclick="rejectMatch()" class="px-10 py-5 glass border border-red-500/50 text-red-500 font-bold rounded-2xl hover:bg-red-950/20 transition-all uppercase tracking-widest">Reject Consensus</button>
                </div>
            </div>
        </section>

        <!-- SECTION: ABOUT -->
        <section id="about-section" class="hidden fade-in">
            <div class="grid lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 space-y-8">
                    <div class="glass p-10 rounded-[3rem] relative overflow-hidden">
                        <div class="absolute top-0 right-0 p-6 mono text-[10px] text-cyan-400/20">V.4.0_STABLE</div>
                        <h2 class="text-5xl font-black mb-8 tracking-tighter">ISHHA <span class="text-cyan-400 italic">Dev_Lead</span></h2>
                        <div class="space-y-6 text-slate-400 text-lg leading-relaxed">
                            <p>I am a <span class="text-white font-bold underline decoration-cyan-500/50">Middle Schooler</span> operating in the deep layers of cybersecurity and machine learning.</p>
                            <p>While society views tech as a utility, I view it as a landscape of systems. This rig is a demonstration of <span class="text-cyan-300">Privacy-First AI</span>â€”built to prove that powerful analytics can live entirely on the client-side, respecting user sovereignty.</p>
                            <p>My goal: To build systems that are as secure as they are intelligent.</p>
                        </div>
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="glass p-8 rounded-[2rem]">
                        <h5 class="mono text-[10px] text-cyan-400 mb-6 uppercase tracking-widest">Skill_Matrix</h5>
                        <div class="space-y-6">
                            <div>
                                <div class="flex justify-between text-[10px] uppercase mb-2 italic"><span>Security</span><span>92%</span></div>
                                <div class="h-1 bg-slate-900 rounded-full overflow-hidden"><div class="h-full bg-cyan-400" style="width: 92%"></div></div>
                            </div>
                            <div>
                                <div class="flex justify-between text-[10px] uppercase mb-2 italic"><span>Neural_Nets</span><span>78%</span></div>
                                <div class="h-1 bg-slate-900 rounded-full overflow-hidden"><div class="h-full bg-cyan-400" style="width: 78%"></div></div>
                            </div>
                            <div>
                                <div class="flex justify-between text-[10px] uppercase mb-2 italic"><span>Architecture</span><span>88%</span></div>
                                <div class="h-1 bg-slate-900 rounded-full overflow-hidden"><div class="h-full bg-cyan-400" style="width: 88%"></div></div>
                            </div>
                        </div>
                    </div>
                    <div class="glass p-8 rounded-[2rem] mono text-[10px] text-slate-500 leading-relaxed">
                        > OS: KALI_LINUX<br>
                        > ROLE: FULLSTACK_DEV<br>
                        > AGE: MIDDLE_SCHOOL<br>
                        > STATUS: UNSTOPPABLE
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- DEBUG OVERLAY (HIDDEN) -->
    <div id="debug-overlay" class="hidden fixed bottom-10 right-10 w-80 glass p-6 rounded-2xl z-[60] border-cyan-500/50">
        <h4 class="mono text-cyan-400 text-xs mb-4 uppercase">Neural Engine Logs</h4>
        <div id="debug-log" class="h-48 overflow-y-auto mono text-[9px] text-emerald-400 space-y-1 mb-4"></div>
        <div class="space-y-2">
            <label class="mono text-[9px] text-slate-500 uppercase">Certainty Threshold</label>
            <input type="range" id="threshold-slider" min="1" max="100" value="92" class="w-full accent-cyan-400" oninput="updateThresholdDisplay(this.value)">
            <div class="flex justify-between mono text-[9px] text-cyan-400"><span>92% REQUIRED</span></div>
        </div>
    </div>

    <script>
        /**
         * 1. NEURAL ENGINE SETTINGS
         */
        const profiles = {
            "Cybersecurity Operative": [7, 10, 2, 4, 5], "AI Researcher": [10, 9, 2, 4, 3],
            "Quantum Engineer": [10, 10, 3, 3, 4], "Fullstack Developer": [8, 8, 4, 5, 4],
            "CEO / Founder": [7, 9, 10, 4, 3], "Investment Banker": [4, 10, 8, 2, 4],
            "Creative Director": [10, 6, 8, 7, 5], "Civil Pilot": [5, 10, 7, 5, 2],
            "Data Architect": [8, 10, 3, 4, 2], "ER Surgeon": [5, 10, 6, 6, 6],
            "Private Investigator": [7, 8, 4, 5, 5], "Concept Artist": [10, 4, 5, 6, 7]
        };

        const jobNames = Object.keys(profiles);
        const rawQuestions = [
  {"q":"I enjoy learning new skills even when they are not required for my role.","t":"O"},
  {"q":"I like exploring unconventional solutions to work problems.","t":"O"},
  {"q":"I am curious about industries or roles outside my own.","t":"O"},
  {"q":"I enjoy projects that allow creative freedom.","t":"O"},
  {"q":"I seek out new technologies or tools to understand how they work.","t":"O"},
  {"q":"I prefer roles that involve innovation rather than routine.","t":"O"},
  {"q":"I enjoy questioning existing processes to see if they can be improved.","t":"O"},
  {"q":"I like working with abstract ideas or future possibilities.","t":"O"},
  {"q":"I am energized by brainstorming sessions.","t":"O"},
  {"q":"I enjoy reading or listening to ideas that challenge my views.","t":"O"},
  {"q":"I adapt easily when my job requires learning something completely new.","t":"O"},
  {"q":"I value imagination and creativity in my work.","t":"O"},
  {"q":"I enjoy experimenting, even if it risks failure.","t":"O"},
  {"q":"I am interested in how different cultures approach work.","t":"O"},
  {"q":"I prefer flexible roles over highly structured ones.","t":"O"},
  {"q":"I often think about how my work could evolve in the future.","t":"O"},
  {"q":"I enjoy roles that allow self-expression.","t":"O"},
  {"q":"I like connecting ideas across different domains.","t":"O"},
  {"q":"I feel motivated by novelty and change.","t":"O"},
  {"q":"I enjoy working on projects without a clear roadmap.","t":"O"},
  {"q":"I actively seek feedback to grow intellectually.","t":"O"},
  {"q":"I enjoy creative problem-solving more than following instructions.","t":"O"},
  {"q":"I am open to redefining my career path.","t":"O"},
  {"q":"I enjoy thinking about big-picture strategies.","t":"O"},
  {"q":"I am comfortable challenging the status quo.","t":"O"},
  {"q":"I enjoy interdisciplinary work.","t":"O"},
  {"q":"I prefer exploration over optimization.","t":"O"},
  {"q":"I like learning through experimentation.","t":"O"},
  {"q":"I find inspiration in new perspectives.","t":"O"},
  {"q":"I enjoy adapting ideas from other fields to my work.","t":"O"},
  {"q":"I am drawn to roles that evolve over time.","t":"O"},
  {"q":"I enjoy ambiguity if it allows creativity.","t":"O"},
  {"q":"I like reimagining how work can be done.","t":"O"},
  {"q":"I value innovation more than tradition.","t":"O"},
  {"q":"I enjoy speculative or future-oriented discussions.","t":"O"},
  {"q":"I am curious about emerging trends in my field.","t":"O"},
  {"q":"I enjoy redefining goals as I learn more.","t":"O"},
  {"q":"I enjoy work that requires original thinking.","t":"O"},
  {"q":"I like experimenting with different work styles.","t":"O"},

  {"q":"I consistently meet deadlines.","t":"C"},
  {"q":"I plan my work carefully before starting.","t":"C"},
  {"q":"I follow through on commitments.","t":"C"},
  {"q":"I keep my tasks organized.","t":"C"},
  {"q":"I take responsibility for my mistakes.","t":"C"},
  {"q":"I am dependable even under pressure.","t":"C"},
  {"q":"I prioritize tasks effectively.","t":"C"},
  {"q":"I maintain focus despite distractions.","t":"C"},
  {"q":"I prepare thoroughly for meetings or presentations.","t":"C"},
  {"q":"I set clear goals for my work.","t":"C"},
  {"q":"I manage my time efficiently.","t":"C"},
  {"q":"I follow established procedures when needed.","t":"C"},
  {"q":"I track progress toward long-term goals.","t":"C"},
  {"q":"I take ownership of outcomes.","t":"C"},
  {"q":"I complete tasks even when they are tedious.","t":"C"},
  {"q":"I prefer structured work environments.","t":"C"},
  {"q":"I pay attention to details.","t":"C"},
  {"q":"I keep promises to colleagues.","t":"C"},
  {"q":"I create systems to stay productive.","t":"C"},
  {"q":"I am disciplined in my work habits.","t":"C"},
  {"q":"I maintain consistency in my performance.","t":"C"},
  {"q":"I double-check my work for accuracy.","t":"C"},
  {"q":"I manage competing priorities effectively.","t":"C"},
  {"q":"I am reliable when others depend on me.","t":"C"},
  {"q":"I finish projects I start.","t":"C"},
  {"q":"I stay organized even during busy periods.","t":"C"},
  {"q":"I work steadily toward objectives.","t":"C"},
  {"q":"I am methodical in my approach.","t":"C"},
  {"q":"I respect deadlines and schedules.","t":"C"},
  {"q":"I document my work clearly.","t":"C"},
  {"q":"I anticipate potential problems and plan for them.","t":"C"},
  {"q":"I hold myself accountable for results.","t":"C"},
  {"q":"I prefer clarity over ambiguity.","t":"C"},
  {"q":"I take pride in doing thorough work.","t":"C"},
  {"q":"I keep commitments even when inconvenient.","t":"C"},
  {"q":"I maintain high standards for my output.","t":"C"},
  {"q":"I prepare ahead rather than rushing.","t":"C"},
  {"q":"I follow schedules closely.","t":"C"},
  {"q":"I consistently deliver on expectations.","t":"C"},

  {"q":"I enjoy collaborating with others.","t":"E"},
  {"q":"I feel energized by group discussions.","t":"E"},
  {"q":"I am comfortable speaking up in meetings.","t":"E"},
  {"q":"I like networking with new people.","t":"E"},
  {"q":"I enjoy roles that involve social interaction.","t":"E"},
  {"q":"I feel motivated by team environments.","t":"E"},
  {"q":"I enjoy presenting ideas to others.","t":"E"},
  {"q":"I easily start conversations at work.","t":"E"},
  {"q":"I feel comfortable taking the lead in group settings.","t":"E"},
  {"q":"I enjoy brainstorming out loud.","t":"E"},
  {"q":"I prefer working with people rather than alone.","t":"E"},
  {"q":"I feel confident in social professional settings.","t":"E"},
  {"q":"I enjoy facilitating discussions.","t":"E"},
  {"q":"I am energized by fast-paced environments.","t":"E"},
  {"q":"I enjoy being visible in my organization.","t":"E"},
  {"q":"I like roles that involve influence or persuasion.","t":"E"},
  {"q":"I feel comfortable reaching out to stakeholders.","t":"E"},
  {"q":"I enjoy team-based problem solving.","t":"E"},
  {"q":"I often initiate collaboration.","t":"E"},
  {"q":"I enjoy building professional relationships.","t":"E"},
  {"q":"I am comfortable sharing ideas spontaneously.","t":"E"},
  {"q":"I like environments with frequent interaction.","t":"E"},
  {"q":"I enjoy mentoring or coaching others.","t":"E"},
  {"q":"I gain energy from social engagement at work.","t":"E"},
  {"q":"I enjoy leading meetings or workshops.","t":"E"},
  {"q":"I feel confident speaking to groups.","t":"E"},
  {"q":"I enjoy negotiating or persuading.","t":"E"},
  {"q":"I enjoy public-facing roles.","t":"E"},
  {"q":"I am comfortable expressing enthusiasm openly.","t":"E"},
  {"q":"I enjoy collaborating across teams.","t":"E"},
  {"q":"I like dynamic, people-centered roles.","t":"E"},
  {"q":"I enjoy social problem-solving.","t":"E"},
  {"q":"I am energized by feedback and interaction.","t":"E"},
  {"q":"I enjoy rallying others around ideas.","t":"E"},
  {"q":"I enjoy being part of large teams.","t":"E"},
  {"q":"I feel comfortable influencing group direction.","t":"E"},
  {"q":"I enjoy interactive work environments.","t":"E"},
  {"q":"I am expressive about my ideas.","t":"E"},
  {"q":"I enjoy fast-moving collaborative work.","t":"E"},

  {"q":"I try to be considerate of colleagues' feelings.","t":"A"},
  {"q":"I value cooperation over competition.","t":"A"},
  {"q":"I am willing to compromise to resolve conflict.","t":"A"},
  {"q":"I try to support others when they struggle.","t":"A"},
  {"q":"I listen carefully to different viewpoints.","t":"A"},
  {"q":"I am empathetic toward coworkers.","t":"A"},
  {"q":"I prioritize team harmony.","t":"A"},
  {"q":"I assume positive intent in others.","t":"A"},
  {"q":"I try to be respectful even under stress.","t":"A"},
  {"q":"I value fairness in decision-making.","t":"A"},
  {"q":"I am patient with others' mistakes.","t":"A"},
  {"q":"I try to build trust in working relationships.","t":"A"},
  {"q":"I avoid unnecessary conflict.","t":"A"},
  {"q":"I am willing to help without being asked.","t":"A"},
  {"q":"I consider how decisions affect others.","t":"A"},
  {"q":"I value kindness in the workplace.","t":"A"},
  {"q":"I try to create inclusive environments.","t":"A"},
  {"q":"I am attentive to team morale.","t":"A"},
  {"q":"I am cooperative in group efforts.","t":"A"},
  {"q":"I give credit to others' contributions.","t":"A"},
  {"q":"I seek win-win outcomes.","t":"A"},
  {"q":"I am supportive during change.","t":"A"},
  {"q":"I respect diverse perspectives.","t":"A"},
  {"q":"I try to resolve disagreements constructively.","t":"A"},
  {"q":"I value collaboration over personal recognition.","t":"A"},
  {"q":"I try to be approachable at work.","t":"A"},
  {"q":"I am considerate in my communication.","t":"A"},
  {"q":"I aim to maintain positive relationships.","t":"A"},
  {"q":"I avoid blaming others.","t":"A"},
  {"q":"I am sensitive to workplace dynamics.","t":"A"},
  {"q":"I try to reduce tension in teams.","t":"A"},
  {"q":"I am willing to adjust my approach for others.","t":"A"},
  {"q":"I show appreciation for colleagues.","t":"A"},
  {"q":"I value emotional intelligence at work.","t":"A"},
  {"q":"I prioritize mutual respect.","t":"A"},
  {"q":"I support team consensus.","t":"A"},
  {"q":"I try to be understanding under pressure.","t":"A"},
  {"q":"I care about the well-being of coworkers.","t":"A"},
  {"q":"I value trust and goodwill.","t":"A"},
  {"q":"I aim to be a dependable teammate.","t":"A"},

  {"q":"I worry about making mistakes at work.","t":"N"},
  {"q":"I feel stressed by tight deadlines.","t":"N"},
  {"q":"I often feel anxious about performance.","t":"N"},
  {"q":"I find it hard to relax after work.","t":"N"},
  {"q":"I am sensitive to criticism.","t":"N"},
  {"q":"I feel overwhelmed when workloads increase.","t":"N"},
  {"q":"I worry about job security.","t":"N"},
  {"q":"I feel tense in high-pressure situations.","t":"N"},
  {"q":"I ruminate about work problems.","t":"N"},
  {"q":"I get stressed by uncertainty at work.","t":"N"},
  {"q":"I am easily frustrated by obstacles.","t":"N"},
  {"q":"I worry about how others perceive my work.","t":"N"},
  {"q":"I feel nervous before evaluations.","t":"N"},
  {"q":"I find change stressful.","t":"N"},
  {"q":"I feel drained by prolonged pressure.","t":"N"},
  {"q":"I struggle with self-doubt at work.","t":"N"},
  {"q":"I worry about meeting expectations.","t":"N"},
  {"q":"I feel anxious when responsibilities increase.","t":"N"},
  {"q":"I am affected by workplace tension.","t":"N"},
  {"q":"I often anticipate negative outcomes.","t":"N"},
  {"q":"I find it hard to disconnect from work worries.","t":"N"},
  {"q":"I feel uneasy in unpredictable environments.","t":"N"},
  {"q":"I experience stress when roles are unclear.","t":"N"},
  {"q":"I take work setbacks personally.","t":"N"},
  {"q":"I feel pressure to prove myself.","t":"N"},
  {"q":"I get nervous when performance is monitored.","t":"N"},
  {"q":"I worry about falling behind.","t":"N"},
  {"q":"I feel emotionally affected by feedback.","t":"N"},
  {"q":"I find high expectations stressful.","t":"N"},
  {"q":"I feel anxious during organizational change.","t":"N"},
  {"q":"I struggle with work-related worry.","t":"N"},
  {"q":"I feel tense when stakes are high.","t":"N"},
  {"q":"I am concerned about making the wrong decision.","t":"N"},
  {"q":"I feel stress before important deadlines.","t":"N"},
  {"q":"I find pressure difficult to manage.","t":"N"},
  {"q":"I feel uneasy when performance is uncertain.","t":"N"},
  {"q":"I worry about disappointing others.","t":"N"},
  {"q":"I feel emotionally reactive at work.","t":"N"},
  {"q":"I struggle with workplace anxiety.","t":"N"},
  {"q":"I feel stressed by high responsibility roles.","t":"N"}
];


        let questionBank = rawQuestions.sort(() => Math.random() - 0.5);
        let model, scores = {O:[], C:[], E:[], A:[], N:[]}, qIdx = 0, blacklist = [];
        let konamiCode = ["ArrowUp", "ArrowUp", "ArrowDown", "ArrowDown", "ArrowLeft", "ArrowRight", "ArrowLeft", "ArrowRight", "b", "a"];
        let konamiIdx = 0;

        /**
         * 2. AI CORE
         */
        async function initAI() {
            log("Engine Startup Sequence Initiated...");
            const inputs = [], outputs = [];
            jobNames.forEach((name, i) => {
                inputs.push(profiles[name]);
                outputs.push(i);
                for(let j=0; j<20; j++) {
                    inputs.push(profiles[name].map(v => v + (Math.random() * 2 - 1)));
                    outputs.push(i);
                }
            });

            const xs = tf.tensor2d(inputs);
            const ys = tf.oneHot(tf.tensor1d(outputs, 'int32'), jobNames.length);

            model = tf.sequential();
            model.add(tf.layers.dense({units: 128, activation: 'relu', inputShape: [5]}));
            model.add(tf.layers.dense({units: 64, activation: 'relu'}));
            model.add(tf.layers.dense({units: jobNames.length, activation: 'softmax'}));

            model.compile({ optimizer: tf.train.adam(0.01), loss: 'categoricalCrossentropy' });

            log("Training Neural Layers...");
            await model.fit(xs, ys, { epochs: 30 });
            log("Model Sync Complete.");
            
            document.getElementById('ai-status').classList.replace('bg-red-500', 'bg-cyan-500');
            const btn = document.getElementById('start-btn');
            btn.classList.remove('opacity-50', 'pointer-events-none');
            btn.innerText = "START SYNC";
        }

        /**
         * 3. GAME LOGIC
         */
        function showSection(id) {
            document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
            document.getElementById(`${id}-section`).classList.remove('hidden');
            if(id === 'quiz') updateUI();
        }

        function updateUI() {
            const q = questionBank[qIdx % questionBank.length];
            document.getElementById('q-text').innerText = `"${q.q}"`;
            document.getElementById('q-count').innerText = `${qIdx} / 200`;
        }

        async function handle(val) {
            const t = questionBank[qIdx % questionBank.length].t;
            scores[t].push(val);
            qIdx++;
            if(qIdx > 4) await analyze();
            else updateUI();
        }

        async function analyze() {
            const ocean = ['O','C','E','A','N'].map(t => scores[t].length ? (scores[t].reduce((a,b)=>a+b)/scores[t].length) : 5.0);
            const prediction = model.predict(tf.tensor2d([ocean]));
            const data = await prediction.data();
            
            let best = -1, bestP = -1;
            for(let i=0; i<data.length; i++) {
                if(blacklist.includes(jobNames[i])) continue;
                if(data[i] > bestP) { bestP = data[i]; best = i; }
            }

            const conf = Math.round(bestP * 100);
            const threshold = document.getElementById('threshold-slider').value;

            document.getElementById('conf-text').innerText = `${conf}%`;
            document.getElementById('conf-bar').style.width = `${conf}%`;

            if(conf >= threshold && qIdx >= 10) {
                document.getElementById('quiz-section').classList.add('hidden');
                document.getElementById('result-section').classList.remove('hidden');
                document.getElementById('predicted-job').innerText = jobNames[best];
            } else { updateUI(); }
        }

        function rejectMatch() {
            blacklist.push(document.getElementById('predicted-job').innerText);
            document.getElementById('result-section').classList.add('hidden');
            document.getElementById('quiz-section').classList.remove('hidden');
            updateUI();
        }

        /**
         * 4. EASTER EGGS & SYSTEM
         */
        window.addEventListener('keydown', (e) => {
            // Konami Code
            if(e.key === konamiCode[konamiIdx]) {
                konamiIdx++;
                if(konamiIdx === konamiCode.length) {
                    document.body.classList.add('overload');
                    log("!! SYSTEM OVERLOAD: RED_MODE ACTIVATED !!");
                }
            } else { konamiIdx = 0; }

            // Terminal Toggle (Tilde key)
            if(e.key === '~' || e.key === '`') toggleTerminal();
        });

        function toggleTerminal() {
            const term = document.getElementById('terminal-overlay');
            term.classList.toggle('hidden');
            if(!term.classList.contains('hidden')) document.getElementById('term-input').focus();
        }

        document.getElementById('term-input').addEventListener('keypress', (e) => {
            if(e.key === 'Enter') {
                const cmd = e.target.value.toLowerCase();
                const out = document.getElementById('term-output');
                let res = "> Unknown Command";
                
                if(cmd === 'help') res = "> Commands: clear, sudo, about, hack, status";
                if(cmd === 'sudo') { res = "> ADMIN GRANTED. Sync Confidence forced to 100%."; document.getElementById('threshold-slider').value = 1; }
                if(cmd === 'hack') res = "> Hacking complete. Just kidding, I'm just a middle schooler.";
                if(cmd === 'clear') { out.innerHTML = ""; res = "> Log wiped."; }
                if(cmd === 'about') res = "> FutureLink v4. Developed by Ishha.";
                if(cmd === 'status') res = `> Questions: ${qIdx} | Confidence: ${document.getElementById('conf-text').innerText}`;

                out.innerHTML += `<div>${res}</div>`;
                e.target.value = "";
                out.scrollTop = out.scrollHeight;
            }
        });

        function secretLogoTrigger() {
            log("Scanning developer identity...");
            setTimeout(() => log("Verification successful: User 'Ishha' detected."), 500);
        }

        function toggleDebug() { document.getElementById('debug-overlay').classList.toggle('hidden'); }
        function log(m) {
            const l = document.getElementById('debug-log');
            l.innerHTML += `<div>[${new Date().toLocaleTimeString()}] ${m}</div>`;
            l.scrollTop = l.scrollHeight;
        }

        function updateThresholdDisplay(v) {
            document.querySelector('#debug-overlay span').innerText = `${v}% REQUIRED`;
        }

        /**
         * 5. MATRIX BACKGROUND
         */
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$#@%";
        const fontSize = 16;
        const columns = canvas.width / fontSize;
        const drops = Array(Math.floor(columns)).fill(1);

        function drawMatrix() {
            ctx.fillStyle = "rgba(2, 6, 23, 0.05)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = document.body.classList.contains('overload') ? "#ff003c" : "#00f2ff";
            ctx.font = fontSize + "px monospace";
            for(let i = 0; i < drops.length; i++) {
                const text = alphabet.charAt(Math.floor(Math.random() * alphabet.length));
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                if(drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }
        setInterval(drawMatrix, 30);

        window.onload = initAI;
    </script>
</body>
</html>
